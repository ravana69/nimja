<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from hypno.nimja.com/visual/54 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Oct 2022 05:24:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>Spiral Twist Flat - Nimja Hypnosis</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="A spiral with optional twists, with a flat look with background copy." />
    <meta name="referrer" content="origin" />
    <meta name="author" content="Nimja.com" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://hypno.nimja.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://hypno.nimja.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://hypno.nimja.com/favicon-16x16.png">
    <link rel="manifest" href="https://hypno.nimja.com/site.webmanifest">
    <link rel="mask-icon" href="https://hypno.nimja.com/safari-pinned-tab.svg" color="#405299">
    <meta name="msapplication-TileColor" content="#405299">
    <meta name="application-name" content="Nimja Hypnosis">
    <meta name="theme-color" content="#405299">
    <meta name="apple-mobile-web-app-title" content="Nimja Hypnosis">
    <meta name="application-name" content="Nimja Hypnosis">
    <meta property="og:title" content="Spiral Twist Flat - Nimja Hypnosis" />
    <meta property="og:description" content="A spiral with optional twists, with a flat look with background copy." />
    <meta property="og:url" content="54.html" />
    <meta property="og:image" content="thumb/Spiral_Twist_Flat-by-Nimja.jpg" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <script src="https://hypno.nimja.com/version/22.01/js/visual/view.js" type="application/javascript"></script>
    <link href="https://hypno.nimja.com/version/22.01/style/visual.css" rel="stylesheet" />
    <style>
        #text {
            color: #ffffff;
            text-shadow: 0px 0px 0.5vw #000000;
        }

        #textHolder {
            background: transparent;
        }
    </style>
</head>

<body style="background-color: #000000;">
    <table class="copyright">
    <tr>
        <td class="prev">
            <a href="55.html" id="mlink">&#9668;</a>
        </td>
        <td>
            <a href="customise/54.html">
                <mute>Nimja Hypnosis</mute> âš™ Edit<span>
                    - <i>Click lower half for full-screen.</i></span>
            </a>
        </td>
        <td class="next">
            <a href="53.html">&#9658;</a>
        </td>
    </tr>
</table>
    <div id="textHolder"><span id="text">Loading...</span></div>
    <div onclick="nimja.fullscreen.launch()" id="fullscreen"></div>
    <div id="start-button">
        <svg viewBox="0 0 10 10">
            <title>Play</title>
            <path d="M 2 2 L 8 5 2 8 z" />
        </svg>
    </div>
    <div id="intro">
    <div class="intro-content">
        <h1>Spiral Twist Flat</h1>
        <h2>By Nimja Hypnosis</h2>
        <a id="intro-start" class="button-start" href="#">Start Visual</a>
        <a class="button-edit" href="customise/54.html" target="_top">Customize</a>
        <p id="intro-cam-warning"><b>Webcam Mirror enabled</b> - No data is sent to server.</p>
        <p>WARNING: Possibly flashing imagery!</p>
        <p>Click/tap lower half to go full-screen.</p>
        <div id="intro-word-list"></div>
    </div>
</div>
    <style>
    @keyframes rotating {
        from {
            transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -webkit-transform: rotate(0deg);
            -o-transform: rotate(0deg);
        }

        to {
            transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -webkit-transform: rotate(360deg);
            -o-transform: rotate(360deg);
        }
    }

    @-webkit-keyframes rotating

    /* Safari and Chrome */
        {
        from {
            transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -webkit-transform: rotate(0deg);
            -o-transform: rotate(0deg);
        }

        to {
            transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -webkit-transform: rotate(360deg);
            -o-transform: rotate(360deg);
        }
    }

    .rotating {
        -webkit-animation: rotating 2s linear infinite;
        -moz-animation: rotating 2s linear infinite;
        -ms-animation: rotating 2s linear infinite;
        -o-animation: rotating 2s linear infinite;
        animation: rotating 2s linear infinite;
        -webkit-animation-direction: normal;
        animation-direction: normal;
    }

    .rotating2 {
        -webkit-animation: rotating 2.1s linear infinite;
        -moz-animation: rotating 2.1s linear infinite;
        -ms-animation: rotating 2.1s linear infinite;
        -o-animation: rotating 2.1s linear infinite;
        animation: rotating 2.1s linear infinite;
        -webkit-animation-direction: reverse;
        animation-direction: reverse;
    }
</style>
<canvas class="rotating2" id="canvas2" width="100" height="100" style="left: 0px; top: 0px; display: none;">Canvas not
    supported.</canvas>
<canvas class="rotating" id="canvas" width="100" height="100" style="left: 0px; top: 0px; display: block;">Canvas not
    supported.</canvas>
<script>
    function perFrame(time, diff) {
        if (render.update) {
            render.update(time, diff);
        }
        words.update();
    }
    function resizeCanvas(canvas, visible, width, height, duration, direction) {
        if (!visible) {
            canvas.style.display = 'none';
            return;
        }
        var x = width / 2;
        var y = height / 2;
        var radius = Math.sqrt(x * x + y * y);
        var size = Math.ceil(radius) * 2;
        var hsize = size / 2;
        canvas.width = size;
        canvas.height = size;
        canvas.style.left = (x - hsize) + 'px';
        canvas.style.top = (y - hsize) + 'px';
        canvas.style.display = 'block';
        if (duration) {
            canvas.style.animationDuration = duration + 's';
            canvas.style.webkitAnimationDuration = duration + 's';
            canvas.style.msAnimationDuration = duration + 's';
            canvas.style.mozAnimationDuration = duration + 's';
        }
        if (direction) {
            direction = direction < 0 ? 'reverse' : 'normal';
            canvas.style.animationDirection = direction;
            canvas.style.webkitAnimationDirection = direction;
            canvas.style.msAnimationDirectionn = direction;
            canvas.style.mozAnimationDirection = direction;
        }
        return size;
    }
    var words = new Words(["blank","bliss","blissfully","calm","calmer","deep","deeper","drifting","drop","dropping","empty","empty mind","enjoying","floating","focus","follow","keep looking","keep reading","keep staring","keep watching","looking","no thoughts","reading","relax","relaxing","sinking","staring","watching"], 30, 5);
    config = new Config([]);
    //Spiral.
    /**
 * Twisted Spiral - Flat/Gradient
 * By Nimja - The Render class.
 * @param {element} canvas
 * @param {element} canvas2
 * @param {array} colors
 * @returns {Render}
 */
function Render(canvas, canvas2, colors) {
    var t = this;
    this.canvas = canvas;
    this.context = t.canvas.getContext('2d');
    this.context.globalCompositeOperation = "source-over";
    this.canvas2 = canvas2;
    this.context2 = t.canvas2.getContext('2d');
    this.context2.globalCompositeOperation = "source-over";
    this.colors = colors;
    this.pos = {x: 0, y: 0, w: 0, h: 0};
    var defaults = {
        back: {type: 'bool', val: false},
        speed: {type: 'ratio'},
        arms: {type: 'int', val: 3, min: 1, max: 10},
        turns: {type: 'int', val: 6, min: 1, max: 20},
        curve: {type: 'float', val: .4, min: .1, max: 2},
        width: {type: 'float', val: .5, min: .01, max: 1},
        twist: {type: 'int', val: 2, min: 0, max: 5},
        dir: {type: 'dir', val: 0}
    };
    this.settings = config.get(defaults);
    this.settings.back = this.settings.back && this.settings.width < 1;
    this.cur = 0;
    this.update = function() {};
    this.draw = function () {
        var spiral = new Spiral(t.settings.turns * t.settings.dir, t.settings.curve, t.pos.radius * 2);
        t.addTwists(spiral);
        ctx = t.context;
        t.drawFlatArms(spiral, ctx);
        if (t.settings.back) {
            t.copyBack();
        }
    };
    this.addTwists = function(spiral) {
        if (t.settings.twist == 0) {
            return;
        }
        var part = 1 / (t.settings.twist + 1);
        for (var i = 0; i < t.settings.twist; i++) {
            spiral.split(part * .75 + part * i);
        }
    };
    this.drawFlatArms = function(spiral, ctx) {
        var part = 1 / t.settings.arms;
        ctx.clearRect(0, 0, t.pos.w, t.pos.h);
        ctx.fillStyle = gradient.createRadial(ctx, t.colors, t.pos.x, t.pos.y, 0, t.pos.radius);
        for (var i = 0; i < t.settings.arms; i++) {
            ctx.beginPath();
            spiral.drawArm(ctx, t.pos, part * t.settings.width, TAU * i * part);
            ctx.fill();
        }
    };
    this.copyBack = function() {
        var ctx = t.context2;
        ctx.save();
        ctx.scale(-1, 1);
        ctx.clearRect(0, 0, t.pos.w, t.pos.h);
        ctx.drawImage(t.canvas, -t.pos.w, 0);
        ctx.restore();
        ctx.globalCompositeOperation = "source-atop";
        ctx.fillStyle = 'rgba(0, 0, 0, .7)';
        ctx.fillRect(0, 0, t.pos.w, t.pos.h);
    };
    this.redraw = function (width, height) {
        var speed = 1 / t.settings.speed;
        var size = resizeCanvas(t.canvas, true, width, height, 2 * speed);
        resizeCanvas(t.canvas2, t.settings.back, width, height, 8.5 * speed);
        t.pos.w = size;
        t.pos.h = size;
        t.pos.max = size;
        t.pos.radius = t.pos.max / 2;
        t.pos.x = t.pos.radius;
        t.pos.y = t.pos.radius;
        t.draw();
    };
}

function Spiral(turns, curve, steps)
{
    var t = this;
    this.points = [];
    for (var i = 0; i < steps; i++) {
        var cur = i / (steps - 1);
        var adjusted = Math.pow(cur, curve);
        t.points.push({r: cur, a: (adjusted * TAU * turns)});
    }
    this.split = function(ratio)
    {
        var adjust, p;
        for (var index in t.points) {
            p = t.points[index];
            if (p.r < ratio) {
                adjust = p.a;
            } else {
                p.a = adjust - (p.a - adjust);
            }
        }
    };
    this.drawArm = function(ctx, pos, ratio, angle, counterClockWise)
    {
        var max = t.points.length - 1, offset = TAU * (ratio / 2), maxAngle = t.points[max].a;
        counterClockWise = !!counterClockWise;
        ctx.moveTo(pos.x, pos.y);

        if (counterClockWise) {
            t.drawArmEdge(ctx, pos, angle - offset, max, false);
            ctx.arc(pos.x, pos.y, pos.radius, maxAngle + angle - offset, maxAngle + angle + offset, false);
            t.drawArmEdge(ctx, pos, angle + offset, max, true);
        } else {
            t.drawArmEdge(ctx, pos, angle + offset, max, false);
            ctx.arc(pos.x, pos.y, pos.radius, maxAngle + angle + offset, maxAngle + angle - offset, true);
            t.drawArmEdge(ctx, pos, angle - offset, max, true);
        }
    };
    this.drawArmEdge = function (ctx, pos, angle, max, inwards) {
        var index, p, x, y;
        for (var i = 0; i <= max; i++) {
            index = inwards ? max - i : i;
            p = t.points[index];
            x = pos.x + pos.radius * p.r * Math.cos(p.a + angle);
            y = pos.y + pos.radius * p.r * Math.sin(p.a + angle);
            ctx.lineTo(x, y);
        }
    };
    this.drawArmFaded = function(ctx, pos, colors, ratio, angle, colorCount)
    {
        var max = colors.length - 1,
            steps = t.makeSteps(max, colorCount),
            color,
            stepsMax = steps.length - 1;
        for (var i = 0; i <= stepsMax; i++) {
            color = getIndex(colors, steps[i].c);
            ctx.fillStyle = color;
            ctx.strokeStyle = color;
            ctx.lineWidth = 1;
            ctx.beginPath();
            t.drawArm(ctx, pos, steps[i].r * ratio, angle, true);
            if (i < stepsMax) {
                t.drawArm(ctx, pos, steps[i + 1].r * ratio, angle, false);
                ctx.stroke();
            }
            ctx.fill();
        }
    };
    this.makeSteps = function(max, colorCount)
    {
        var steps = colorCount > 1 ? colorCount : max;
            size = 1 / (steps - 1),
            offset = size * .5,
            maxStep = steps - 1,
            result = [];
        for (var i = 0; i < steps; i++) {
            result.push(
                {
                    c: i / maxStep,
                    r: i * size + offset
                }
            );
        }
        return result.reverse();
    };
}
    var render = new Render(
        document.getElementById('canvas'),
        document.getElementById('canvas2'),
        ["#fefeff","#fdfdfe","#fbfcfd","#f9fafc","#f7f9fc","#f6f8fb","#f4f6fa","#f2f5fa","#f0f3f9","#eff2f8","#edf1f7","#ebeff7","#e9eef6","#e8ecf5","#e6ebf5","#e4eaf4","#e3e8f3","#e1e7f3","#dfe5f2","#dde4f1","#dce2f1","#dae1f0","#d8dfef","#d7deef","#d5dcee","#d3dbed","#d2d9ed","#d0d8ec","#ced6eb","#cdd5eb","#cbd3ea","#cad1e9","#c8d0e9","#c6cfe8","#c5cde7","#c3cbe7","#c1cae6","#c0c8e5","#bec7e5","#bcc5e4","#bbc3e4","#b9c2e3","#b8c0e2","#b6bfe1","#b5bde1","#b3bbe0","#b1bae0","#b0b8df","#aeb6de","#adb5de","#abb3dd","#aab1dd","#a8b0dc","#a6aedb","#a5acdb","#a3abda","#a2a9d9","#a0a7d9","#9fa6d8","#9da4d8","#9ca2d7","#9aa0d6","#999fd6","#979dd5","#969bd5","#9499d4","#9398d3","#9196d3","#9094d2","#8e93d2","#8d90d1","#8b8fd0","#8a8dd0","#898bcf","#8789cf","#8588ce","#8486cd","#8384cd","#8182cc","#7f81cc","#7e7ecb","#7d7dcb","#7b7bca","#7a79c9","#7977c8","#7776c8","#7674c7","#7572c6","#7370c6","#726fc5","#716dc4","#6f6bc3","#6e69c3","#6d67c2","#6c65c1","#6a64c1","#6862c0","#6860bf","#665ebe","#655dbe","#645abd","#6359bc","#6157bb","#6055bb","#5f53ba","#5d51b9","#5c50b9","#5b4db8","#5a4cb7","#584ab6","#5847b5","#5646b5","#5544b4","#5542b3","#5340b2","#523eb2","#503db1","#503ab0","#4e38af","#4d37af","#4c34ae","#4b32ad","#4931ac","#492eab","#482dab","#462baa","#4529a9","#4526a8","#4325a7","#4223a7","#4220a6","#401fa5","#3f1da4","#3f1aa3","#3d19a3","#3c17a2","#3c14a1","#3a12a0","#39119f","#380f9f","#380c9e","#360a9d","#35099c","#35069b","#34049a","#32029a","#320098","#310095","#310093","#300090","#30008b","#2f0088","#2e0085","#2f0081","#2e007e","#2d007b","#2d0077","#2c0074","#2b0071","#2a006f","#2a006b","#290068","#280065","#280061","#27005e","#26005c","#260058","#250055","#240053","#220050","#22004c","#21004a","#200047","#1f0044","#1e0041","#1d003e","#1c003b","#1b0039","#1a0036","#190033","#180030","#17002e","#15002b","#140028","#130026","#120023","#110020","#10001e","#0e001b","#0d0019","#0c0016","#0a0013","#090011","#08000e","#06000c","#050009","#040007","#020004","#010002","#000000"], ["#330099"]
    );
    intro(words.words, function () {
        resize = render.redraw.bind(render);
        nimja.callResize();
        nanimate(animate);
    });
</script>
    
</body>


<!-- Mirrored from hypno.nimja.com/visual/54 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Oct 2022 05:24:30 GMT -->
</html>